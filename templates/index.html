<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion LoL</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="bg-dark text-white">
    <div class="container mt-5">
        <h1 class="text-center text-warning">Gestion des Joueurs & Matchs</h1>

        <h2>Afficher les joueurs d'une équipe</h2>
<form method="post">
    <select name="equipe_selected" class="form-control mb-2">
        {% for equipe in equipes %}
            <option value="{{ equipe[0] }}">{{ equipe[1] }}</option>
        {% endfor %}
    </select>
    <button type="submit" class="btn btn-info w-100">Voir les joueurs</button>
</form>

{% if joueurs_equipe %}
<h3 class="mt-3">Joueurs de l'équipe sélectionnée :</h3>
<ul class="list-group">
    {% for joueur in joueurs_equipe %}
        <li class="list-group-item bg-secondary text-white">{{ joueur[0] }}</li>
    {% endfor %}
</ul>
{% endif %}


        <h2>Ajouter un Joueur</h2>
        <form method="post">
            <input type="text" name="pseudonyme" class="form-control mb-2" placeholder="Pseudonyme" required>
            <select name="id_role" class="form-control mb-2">
                {% for role in roles %}
                    <option value="{{ role[0] }}">{{ role[1] }}</option>
                {% endfor %}
            </select>
            <select name="id_equipe" class="form-control mb-2">
                {% for equipe in equipes %}
                    <option value="{{ equipe[0] }}">{{ equipe[1] }}</option>
                {% endfor %}
            </select>
            <button type="submit" class="btn btn-warning w-100">Ajouter</button>
        </form>

        <h2 class="mt-4">Créer un Match</h2>
        <form method="post">
            <select name="id_equipe1" class="form-control mb-2">
                {% for equipe in equipes %}
                    <option value="{{ equipe[0] }}">{{ equipe[1] }}</option>
                {% endfor %}
            </select>
            <select name="id_equipe2" class="form-control mb-2">
                {% for equipe in equipes %}
                    <option value="{{ equipe[0] }}">{{ equipe[1] }}</option>
                {% endfor %}
            </select>
            <button type="submit" class="btn btn-danger w-100">Lancer le Match</button>
        </form>

        <h2 class="mt-4">Historique des Matchs</h2>
        <table class="table table-dark table-hover">
            <tr>
                <th>ID</th>
                <th>Équipe 1</th>
                <th>Équipe 2</th>
                <th>Résultat</th>
                <th>Actions</th>
            </tr>
            {% for match in matchs %}
            <tr>
                <td>{{ match[0] }}</td>
                <td>{{ match[1] }}</td>
                <td>{{ match[2] }}</td>
                <td>{{ match[5] }}</td>
                <td><a href="/match/{{ match[0] }}" class="btn btn-primary btn-sm">Voir stats</a></td>
            </tr>
            {% endfor %}
        </table>
    </div>
</body>
</html>
